<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevSphere - Chatly Engine</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
      :root {
        --bg-light: #f8fafc;
        --panel-bg: rgba(255, 255, 255, 0.85);
        --text-main: #1e293b;
        --accent-blue: #0284c7;
        --border-color: #e2e8f0;
        --header-box: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
        --mdn-link: #0284c7;
        --card-hover: #f8fafc;
      }

      body {
        font-family: "Inter", "Segoe UI", system-ui, sans-serif;
        background: radial-gradient(circle at top left, #f1f5f9, #f8fafc);
        color: var(--text-main);
        margin: 0;
        padding: 120px 20px 60px 20px; /* Zwiększony górny padding dla wyszukiwarki */
        display: flex;
        justify-content: center;
        min-height: 100vh;
      }

      /* --- FIXED SEARCH CONTAINER --- */
      .search-container {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        width: 100%;
        max-width: 850px;
        padding: 20px;
        box-sizing: border-box;
        background: rgba(248, 250, 252, 0.8); /* Lekkie tło pod wyszukiwarką */
        backdrop-filter: blur(12px);
        border-bottom: 1px solid var(--border-color);
      }

      #tag-search {
        width: 95%;
        padding: 14px 20px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        background: var(--panel-bg);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        font-family: inherit;
        font-size: 1em;
        outline: none;
        transition: border-color 0.3s;
      }

      #tag-search:focus {
        border-color: var(--accent-blue);
      }

      .stats-bar {
        display: flex;
        gap: 12px;
        margin-top: 12px;
        font-size: 0.85em;
        color: var(--text-main);
        font-weight: 500;
        align-items: center;
      }

      /* --- SIDEBAR NAV --- */
      .sidebar-nav {
        position: fixed;
        right: 40px;
        top: 100px;
        width: 220px;
        background: var(--panel-bg);
        backdrop-filter: blur(8px);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        display: none;
      }

      @media (min-width: 1400px) {
        .sidebar-nav { display: block; }
      }
.sidebar-nav h5 {
        margin: 0 0 15px 0;
        color: var(--accent-blue);
        text-transform: uppercase;
        font-size: 0.7em;
        letter-spacing: 1.5px;
        font-weight: 800;
        opacity: 0.8;
      }

      #sidebar-nav {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .sidebar-nav a {
        display: block;
        color: var(--text-main);
        text-decoration: none;
        font-size: 0.85em;
        padding: 10px 12px;
        border-radius: 8px;
        transition: all 0.2s ease;
        border-left: 3px solid transparent;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .sidebar-nav a:hover {
        background: var(--accent-glow); /* Wykorzystujemy Twój kolor akcentu z małą przezroczystością */
        color: var(--accent-blue);
        border-left: 3px solid var(--accent-blue);
        padding-left: 16px;
      }

      /* Styl dla aktywnej sekcji (opcjonalnie do dodania przez JS) */
      .sidebar-nav a.active {
        background: var(--header-box);
        color: white;
        font-weight: 600;
      }
      /* --- CONTENT PREVIEW --- */
      #preview {
        max-width: 850px;
        width: 100%;
        line-height: 1.7;
        animation: fadeIn 0.6s ease-out;
      }

      #preview h2 {
        background: var(--header-box);
        border-radius: 12px;
        padding: 20px 25px;
        font-size: 1.2em;
        color: #ffffff;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        margin-top: 40px;
        box-shadow: 0 8px 20px rgba(2, 132, 199, 0.15);
        scroll-margin-top: 140px; /* Żeby nagłówek nie wpadał pod wyszukiwarkę */
      }

      #preview ul {
        display: flex;
        flex-direction: column;
        padding: 0;
        margin: 20px 0;
        list-style: none;
      }

      #preview li {
        background: var(--panel-bg);
        backdrop-filter: blur(8px);
        margin-bottom: 12px;
        padding: 16px 24px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
      }

      #preview li:hover {
        transform: translateX(5px);
        background: var(--card-hover);
        border-color: var(--accent-blue);
      }

      #preview li.not-learned {
        border-left: 6px solid var(--mdn-link);
        background: rgba(225, 29, 72, 0.03);
      }

      .mdn-link {
        color: var(--mdn-link);
        font-weight: 600;
        font-size: 0.9em;
        padding: 4px 8px;
        border-radius: 6px;
        transition: background 0.2s;
      }

      .mdn-link:hover {
        background: rgba(225, 29, 72, 0.1);
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(15px); }
        to { opacity: 1; transform: translateY(0); }
      }
    </style>
  </head>
  <body>

    <div class="search-container">
      <input type="text" id="tag-search" placeholder="Szukaj tagu lub atrybutu (np. 'video' lub 'href')...">
      <div class="stats-bar">
        <span id="stat-total">Tagi: 0</span>
        <span id="stat-learned" style="color: var(--accent-blue)">Opanowane: 0</span>
        <span id="stat-not-learned" style="color: var(--mdn-link)">Do nauki: 0</span>
        <button id="toggle-filter" style="margin-left: auto; background: white; border: 1px solid var(--accent-blue); color: var(--accent-blue); border-radius: 6px; cursor: pointer; padding: 4px 12px; font-weight: 600; font-size: 0.8em; transition: 0.3s;">Pokaż tylko do nauki</button>
      </div>
    </div>

    <nav class="sidebar-nav" id="sidebar-nav">
      <h5>Nawigacja</h5>
      <div id="nav-container"></div>
    </nav>

    <div id="preview">
      </div>

    <script>
      const rawContent = `
## Kompendium arkuszy CSS

### Konfiguracja bazowa

- @charset – kodowanie znaków
- @import – import arkusza
- @namespace – przestrzeń nazw
- @layer – warstwa kaskadowości

### Definicje zasobów

- @font-face – definicja fontu
- @font-feature-display – wyświetlanie znaków
- @font-palette-values – paleta kolorów
- @color-profile – profil kolorystyczny
- @counter-style – styl licznika

### Logika programowania

- @property – własność niestandardowa
- @function – funkcja użytkownika
- @keyframes – klatki animacji
- @custom-media – własne media

### Adaptacja zasięgu

- @media – zapytanie mediów
- @supports – test wsparcia
- @container – zapytanie kontenera
- @scope – zasięg selektorów
- @starting-style – styl początkowy
- @view-transition – przejście widoku

### Układ pozycjonowania

- @page – ustawienia druku
- @position-try – próba pozycjonowania
## Rozszerzenia selektorów CSS

### Generowanie treści

- ::before – treść przed
- ::after – treść po
- ::marker – znacznik listy

### Formularze interakcji

- ::placeholder – tekst zastępczy
- ::file-selector-button – przycisk pliku
- ::picker-icon – ikona wyboru
- ::picker() – obszar wyboru
- ::checkmark – ikona zaznaczenia

### Typografia tekstu

- ::first-letter – pierwsza litera
- ::first-line – pierwsza linia
- ::selection – zaznaczony tekst
- ::target-text – tekst docelowy
- ::spelling-error – błąd pisowni
- ::grammar-error – błąd gramatyczny
- ::highlight – podświetlenie tekstu

### Komponenty izolowane

- ::backdrop – tło warstwy
- ::details-content – treść szczegółów
- ::slotted() – element gniazda
- ::part() – część komponentu
- ::cue – napisy multimedialne
- ::cue() – styl napisów

### Mechanizmy przewijania

- ::column – kolumna układu
- ::scroll-button() – przycisk przewijania
- ::scroll-marker – znacznik przewijania
- ::scroll-marker-group – grupa znaczników

### Animacje przejść

- ::view-transition – przejście widoku
- ::view-transition-group() – grupa przejścia
- ::view-transition-image-pair() – para obrazów
- ::view-transition-old() – stary widok
- ::view-transition-new() – nowy widok
## Dynamika elementów CSS

### Stany użytkownika

- :hover – najechanie kursorem
- :active – kliknięcie elementu
- :focus – aktywacja pola
- :focus-visible – widoczny fokus
- :focus-within – fokus wewnątrz
- :target – cel odnośnika
- :target-within – cel wewnątrz
- :visited – odwiedzony link
- :any-link – dowolny link
- :local-link – link lokalny
- :link – nieodwiedzony link

### Formularze walidacja

- :enabled – pole aktywne
- :disabled – pole zablokowane
- :read-only – tylko odczyt
- :read-write – edycja dozwolona
- :placeholder-shown – widoczny placeholder
- :default – wybór domyślny
- :checked – element zaznaczony
- :indeterminate – stan nieokreślony
- :required – pole wymagane
- :optional – pole opcjonalne
- :valid – poprawna wartość
- :invalid – błędna wartość
- :user-valid – poprawność użytkownika
- :user-invalid – błąd użytkownika
- :in-range – wewnątrz zakresu
- :out-of-range – poza zakresem
- :autofill – autouzupełnianie pola
- :blank – puste pole

### Struktura drzewa

- :root – korzeń dokumentu
- :empty – brak treści
- :first-child – pierwsze dziecko
- :last-child – ostatnie dziecko
- :only-child – jedyne dziecko
- :nth-child() – dziecko numerowane
- :nth-last-child() – dziecko odliczane
- :first-of-type – pierwszy typ
- :last-of-type – ostatni typ
- :only-of-type – jedyny typ
- :nth-of-type() – typ numerowany
- :nth-last-of-type() – typ odliczany

### Logika selektorów

- :is() – dopasowanie elementów
- :where() – dopasowanie bezspecyficzne
- :not() – negacja selektora
- :has() – posiadanie potomka
- :scope – zasięg lokalny
- :defined – zdefiniowany element

## Interfejsy multimedialne CSS

### Odtwarzanie mediów

- :playing – trwa odtwarzanie
- :paused – wstrzymane odtwarzanie
- :buffering – buforowanie danych
- :seeking – wyszukiwanie momentu
- :muted – wyciszony dźwięk
- :volume-locked – blokada głośności
- :stalled – zatrzymanie przesyłu

### Wyświetlanie okna

- :fullscreen – tryb pełnoekranowy
- :modal – okno modalne
- :popover-open – otwarty popover
- :open – element otwarty
- :picture-in-picture – obraz w obrazie

### Przejścia czasowe

- :active-view-transition – aktywne przejście
- :active-view-transition-type() – typ przejścia
- :current – bieżący element
- :past – element przeszły
- :future – element przyszły

### Kontekst treści

- :lang() – język dokumentu
- :dir() – kierunek tekstu
- :heading – nagłówek treści

### Architektura komponentu

- :host – host komponentu
- :host() – funkcja hosta
- :host-context() – kontekst hosta
- :has-slotted – posiada slot

### Ustawienia druku

- :left – strona lewa
- :right – strona prawa
- :first – strona pierwsza
## Składnia powiązań CSS

### Relacje elementów

- > – dziecko bezpośrednie
- + – sąsiad bezpośredni
- ~ – sąsiad ogólny
- " " – dowolny potomek
- || – kolumna tabeli

### Identyfikatory grup

- .class – selektor klasy
- #id – identyfikator unikalny
- * – selektor uniwersalny
- , – grupowanie selektorów
- & – zagnieżdżenie rodzica
- | – separator przestrzeni

### Dopasowanie atrybutów

- [attr] – posiadanie atrybutu
- [attr=value] – wartość dokładna
- [attr~=value] – lista słów
- [attr|=value] – początek frazy
- [attr^=value] – początek ciągu
- [attr$=value] – koniec ciągu
- [attr*=value] – dowolna fraza
- [attr operator value i] – ignorowanie wielkości
- [attr operator value s] – rozróżnianie wielkości

### Kontrola czasu

- from to – ramy czasowe
- 0% 50% 100% – postęp animacji
- entry 20% exit 80% – zakres przewijania
- 0% 50% 100% from to – klatki kluczowe
## Funkcje systemowe CSS

### Obliczenia logiczne

- abs() – wartość bezwzględna
- calc() – obliczenie matematyczne
- calc-size() – rozmiar obliczony
- clamp() – zakres wartości
- max() – wartość maksymalna
- min() – wartość minimalna
- mod() – reszta dzielenia
- rem() – reszta dzielenia
- round() – zaokrąglenie liczby
- sign() – znak liczby
- if() – warunek logiczny

### Matematyka wyższa

- acos() – arkus cosinus
- asin() – arkus sinus
- atan() – arkus tangens
- atan2() – kąt współrzędnych
- cos() – cosinus kąta
- sin() – sinus kąta
- tan() – tangens kąta
- exp() – funkcja wykładnicza
- log() – logarytm naturalny
- sqrt() – pierwiastek kwadratowy
- hypot() – długość przeciwprostokątnej

### Zarządzanie danymi

- attr() – pobranie atrybutu
- var() – zmienna użytkownika
- env() – zmienna środowiskowa
- counter() – wartość licznika
- counters() – liczniki zagnieżdżone
- sibling-count() – liczba rodzeństwa
- sibling-index() – indeks elementu

### Definicje barw

- rgb() – model barw
- hsl() – model odcienia
- hwb() – model jasności
- lab() – przestrzeń barwna
- lch() – model oświetlenia
- oklab() – korekcja barwna
- oklch() – percepcja kolorów
- color() – profil koloru
- device-cmyk() – drukarski model
- color-mix() – mieszanie barw
- contrast-color() – kolor kontrastowy
- light-dark() – tryb jasny-ciemny
- pallete-mix() – mieszanie palet

### Grafika obrazu

- linear-gradient() – gradient liniowy
- radial-gradient() – gradient promieniowy
- conic-gradient() – gradient stożkowy
- repeating-linear-gradient() – powtórzenie liniowe
- repeating-radial-gradient() – powtórzenie promieniowe
- repeating-conic-gradient() – powtórzenie stożkowe
- image() – zasób obrazu
- image-set() – zestaw obrazów
- url() – adres zasobu
- paint() – skrypt rysowania
- element() – renderowanie elementu
- cross-fade() – przenikanie obrazów## Geometria i efekty CSS

### Filtry wizualne

- blur() – rozmycie obrazu
- brightness() – jasność obrazu
- contrast() – kontrast obrazu
- drop-shadow() – cień elementu
- grayscale() – skala szarości
- hue-rotate() – obrót barwy
- invert() – odwrócenie kolorów
- opacity() – stopień przezroczystości
- saturate() – nasycenie barw
- sepia() – efekt sepii

### Kształty masek

- circle() – kształt koła
- ellipse() – kształt elipsy
- inset() – prostokąt wewnętrzny
- path() – ścieżka wektorowa
- polygon() – wielokąt dowolny
- rect() – obszar prostokątny
- shape() – kształt swobodny
- superrellipse() – super elipsa
- xywh() – prostokąt współrzędnych

### Przekształcenia obiektów

- matrix() – macierz transformacji
- matrix3d() – macierz przestrzenna
- perspective() – perspektywa widoku
- rotate() – obrót płaski
- rotate3d() – obrót przestrzenny
- rotateX() – obrót poziomy
- rotateY() – obrót pionowy
- rotateZ() – obrót osiowy
- scale() – skalowanie ogólne
- scale3d() – skalowanie przestrzenne
- scaleX() – skalowanie poziome
- scaleY() – skalowanie pionowe
- scaleZ() – skalowanie głębi
- skew() – pochylenie ogólne
- skewx() – pochylenie poziome
- skewy() – pochylenie pionowe
- translate() – przesunięcie płaskie
- translate3d() – przesunięcie przestrzenne
- translateX() – przesunięcie poziome
- translateY() – przesunięcie pionowe
- translateZ() – przesunięcie głębi

### Pozycjonowanie siatki

- anchor() – punkt kotwiczenia
- anchor-size() – rozmiar zakotwiczenia
- fit-content() – dopasowanie zawartości
- minmax() – zakres rozmiaru
- repeat() – powtórzenie siatki
- ray() – promień pozycjonowania

### Dynamika czasu

- cubic-bezier() – krzywa przejścia
- linear() – ruch jednostajny
- steps() – ruch skokowy
- scroll() – postęp przewijania
- view() – obszar widoczności
- progress() – postęp operacji

## Kompendium właściwości CSS

### Układ i geometria

- width – szerokość elementu
- min-width – minimalna szerokość elementu
- max-width – maksymalna szerokość elementu
- height – wysokość elementu
- min-height – minimalna wysokość elementu
- max-height – maksymalna wysokość elementu
- block-size – rozmiar blokowy
- min-block-size – minimalny rozmiar blokowy
- max-block-size – maksymalny rozmiar blokowy
- inline-size – rozmiar liniowy
- min-inline-size – minimalny rozmiar liniowy
- max-inline-size – maksymalny rozmiar liniowy
- box-sizing – model pudełkowy
- aspect-ratio – proporcje elementu
- contain – izolacja renderowania elementu
- contain-intrinsic-size – naturalny rozmiar własny
- contain-intrinsic-width – naturalna szerokość elementu
- contain-intrinsic-height – naturalna wysokość elementu
- contain-intrinsic-block-size – naturalny rozmiar blokowy
- contain-intrinsic-inline-size – naturalny rozmiar liniowy
- container – zapytanie kontenera
- container-name – nazwa kontenera
- container-type – typ kontenera
- resize – kontrola zmiany rozmiaru przez użytkownika

### Marginesy wewnętrzne (Padding)

- padding – marginesy wewnętrzne elementu
- padding-top – margines wewnętrzny górny
- padding-right – margines wewnętrzny prawy
- padding-bottom – margines wewnętrzny dolny
- padding-left – margines wewnętrzny lewy
- padding-block – marginesy wewnętrzne osi blokowej
- padding-block-start – margines wewnętrzny blokowy-start
- padding-block-end – margines wewnętrzny blokowy-koniec
- padding-inline – marginesy wewnętrzne osi liniowej
- padding-inline-start – margines wewnętrzny liniowy-start
- padding-inline-end – margines wewnętrzny liniowy-koniec

### Pozycjonowanie i współrzędne

- position – tryb pozycjonowania elementu
- z-index – kolejność nakładania warstw
- top – pozycja od góry
- right – pozycja od prawej strony
- bottom – pozycja od dołu
- offset – skrócona definicja ruchu
- offset-anchor – punkt kotwiczenia przesunięcia
- offset-distance – dystans wzdłuż ścieżki
- offset-path – ścieżka ruchu elementu
- offset-position – pozycja startowa ścieżki
- offset-rotate – rotacja wzdłuż ścieżki
- position-anchor – kotwica pozycjonowania elementu
- position-area – obszar pozycjonowania względem kotwicy
- position-try – próba pozycjonowania rezerwowego
- position-try-fallbacks – warianty rezerwowe pozycjonowania
- position-try-order – kolejność prób pozycjonowania
- position-visibility – widoczność elementu pozycjonowanego
- anchor-name – nazwa zakotwiczenia
- anchor-scope – zasięg kotwicy

### Flexbox i Grid

- align-content – wyrównanie zawartości
- align-items – wyrównanie elementów
- align-self – wyrównanie własne
- place-content – wyrównanie zawartości w obu osiach
- place-items – wyrównanie elementów w obu osiach
- place-self – wyrównanie własne w obu osiach
- order – kolejność w kontenerach flex/grid
- row-gap – odstęp między wierszami
- column-gap – odstęp między kolumnami
- box-align – wyrównanie zawartości bloku
- box-direction – kierunek zawartości bloku
- box-flex – elastyczność elementu bloku
- box-flex-group – grupa elastyczności bloku
- box-lines – zawijanie linii bloku
- box-ordinal-group – kolejność wyświetlania bloku
- box-orient – orientacja zawartości bloku
- box-pack – pakowanie zawartości bloku

### Tło i dekoracje

- background – tło elementu
- background-attachment – przywiązanie tła
- background-blend-mode – tryb mieszania
- background-clip – docięcie tła
- background-color – kolor tła
- background-image – obraz tła
- background-origin – punkt startu
- background-position – pozycja tła
- background-position-x – pozycja pozioma
- background-position-y – pozycja pionowa
- background-repeat – powtarzanie tła
- background-size – rozmiar tła
- backdrop-filter – filtr tła
- box-decoration-break – przełamanie dekoracji pudełka
- box-shadow – cień elementu
- mix-blend-mode – tryb mieszania kolorów warstw
- opacity – stopień przezroczystości
- visibility – widoczność elementu

### Obramowanie (Border)

- border – obramowanie elementu
- border-width – szerokość obramowania
- border-style – styl obramowania
- border-color – kolor obramowania
- border-radius – promień zaokrąglenia
- border-collapse – zwijanie krawędzi
- border-spacing – odstępy krawędzi tabeli
- border-image – obraz obramowania
- border-image-outset – wysunięcie obrazu
- border-image-repeat – powtarzanie obrazu
- border-image-slice – cięcie obrazu obramowania
- border-image-source – źródło obrazu obramowania
- border-image-width – szerokość obrazu obramowania

#### Obramowania kierunkowe (Fizyczne)
- border-top – obramowanie górne
- border-top-width – szerokość górnego obramowania
- border-top-style – styl górnego obramowania
- border-top-color – kolor górnego obramowania
- border-top-left-radius – promień lewy-górny
- border-top-right-radius – promień prawy-górny
- border-bottom – obramowanie dolne
- border-bottom-width – szerokość dolna
- border-bottom-style – styl dolny
- border-bottom-color – kolor dolny
- border-bottom-left-radius – promień lewy-dolny
- border-bottom-right-radius – promień prawy-dolny
- border-left – obramowanie lewe
- border-left-width – szerokość lewego obramowania
- border-left-style – styl lewego obramowania
- border-left-color – kolor lewego obramowania
- border-right – obramowanie prawe
- border-right-width – szerokość prawego obramowania
- border-right-style – styl prawego obramowania
- border-right-color – kolor prawego obramowania

#### Obramowania logiczne
- border-block – obramowanie blokowe
- border-block-width – szerokość blokowa
- border-block-style – styl blokowy
- border-block-color – kolor blokowy
- border-block-start – obramowanie początkowe
- border-block-start-width – szerokość blokowa-początkowa
- border-block-start-style – styl blokowy-początkowy
- border-block-start-color – kolor blokowy-początkowy
- border-block-end – obramowanie końcowe
- border-block-end-width – szerokość blokowa-końcowa
- border-block-end-style – styl blokowy-końcowy
- border-block-end-color – kolor blokowy-końcowy
- border-inline – obramowanie liniowe
- border-inline-width – szerokość obramowania liniowego
- border-inline-style – styl obramowania liniowego
- border-inline-color – kolor obramowania liniowego
- border-inline-start – obramowanie początkowe liniowe
- border-inline-start-width – szerokość początkowa liniowa
- border-inline-start-style – styl początkowy liniowy
- border-inline-start-color – kolor początkowy liniowy
- border-inline-end – obramowanie końcowe liniowe
- border-inline-end-width – szerokość końcowa liniowa
- border-inline-end-style – styl końcowy liniowy
- border-inline-end-color – kolor końcowy liniowy
- border-start-start-radius – promień narożnika-początku-startu
- border-start-end-radius – promień narożnika-początku-końca
- border-end-start-radius – promień narożnika-startu
- border-end-end-radius – promień narożnika-końca

### Obrys (Outline) i Kształty

- outline – obrys zewnętrzny elementu
- outline-width – szerokość obrysu zewnętrznego
- outline-style – styl obrysu zewnętrznego
- outline-color – kolor obrysu zewnętrznego
- outline-offset – odsunięcie obrysu od krawędzi
- corner-shape – kształt narożników elementu
- corner-top-shape – kształt narożników górnych
- corner-bottom-shape – kształt narożników dolnych
- corner-left-shape – kształt narożników lewych
- corner-right-shape – kształt narożników prawych
- corner-top-left-shape – kształt narożnika lewy-górny
- corner-top-right-shape – kształt narożnika prawy-górny
- corner-bottom-left-shape – kształt narożnika lewy-dolny
- corner-bottom-right-shape – kształt narożnika prawy-dolny
- corner-block-start-shape – kształt narożnika blokowego-startu
- corner-block-end-shape – kształt narożnika blokowego-końca
- corner-inline-start-shape – kształt narożnika liniowego-startu
- corner-inline-end-shape – kształt narożnika liniowego-końca
- corner-start-start-shape – kształt narożnika start-start
- corner-start-end-shape – kształt narożnika start-koniec
- corner-end-start-shape – kształt narożnika koniec-start
- corner-end-end-shape – kształt narożnika koniec-koniec

### Typografia i Tekst

- color – kolor tekstu
- text-align – wyrównanie tekstu
- text-align-last – wyrównanie ostatniego wiersza
- text-justify – sposób wyrównywania do obu stron
- text-indent – wcięcie akapitowe
- text-transform – transformacja wielkości liter
- text-decoration – dekoracja tekstu (podkreślenie itp.)
- text-decoration-line – linia dekoracji tekstu
- text-decoration-style – styl linii dekoracji
- text-decoration-color – kolor dekoracji tekstu
- text-decoration-thickness – grubość linii dekoracji
- text-decoration-skip – pomijanie elementów w dekoracji
- text-decoration-skip-ink – pomijanie światła znaków w dekoracji
- text-decoration-inset – wcięcie dekoracji tekstu
- text-underline-position – pozycja podkreślenia
- text-underline-offset – odsunięcie podkreślenia
- text-shadow – cień tekstu
- text-rendering – optymalizacja renderowania tekstu
- text-size-adjust – korekta rozmiaru tekstu na urządzeniach mobilnych
- text-orientation – orientacja znaków w pionie
- text-overflow – obsługa przepełnienia tekstu
- text-wrap – zawijanie tekstu wierszy
- text-wrap-mode – tryb zawijania tekstu
- text-wrap-style – styl zawijania tekstu
- text-autospace – automatyczne odstępy tekstowe
- text-spacing-trim – przycinanie odstępów międzyznakowych
- text-combine-upright – łączenie znaków w pionie
- text-emphasis – wyróżnienie znaków tekstu
- text-emphasis-style – styl znaku wyróżnienia
- text-emphasis-color – kolor wyróżnienia tekstu
- text-emphasis-position – pozycja wyróżnienia tekstu
- text-box – obramowanie pudełka tekstowego
- text-box-trim – przycinanie pudełka tekstowego
- text-box-edge – krawędź pudełka tekstowego
- text-anchor – zakotwiczenie tekstu (SVG)
- writing-mode – tryb kierunku pisania
- word-break – zasady łamania słów
- word-spacing – odstępy między słowami
- white-space – obsługa białych znaków i zawijania
- white-space-collapse – zwijanie białych znaków
- tab-size – rozmiar znaku tabulacji
- hyphens – dzielenie wyrazów (brak w oryginalnej liscie, ale kontekstowo pasuje, jeśli był)
- quotes – styl znaków cudzysłowu
- caret – kursor tekstowy
- caret-color – kolor kursora tekstowego
- caret-shape – kształt kursora tekstowego
- caret-animation – animacja kursora tekstowego
- ruby-position – pozycja adnotacji ruby
- ruby-align – wyrównanie adnotacji ruby
- ruby-overhang – wystawanie adnotacji ruby
- baseline-source – źródło bazowe
- alignment-baseline – linia bazowa
- vertical-align – wyrównanie pionowe

### Animacje i Transformacje

- animation – animacja elementu
- animation-name – nazwa klatek
- animation-duration – czas trwania
- animation-timing-function – dynamika ruchu
- animation-delay – opóźnienie startu
- animation-iteration-count – liczba powtórzeń
- animation-direction – kierunek biegu
- animation-fill-mode – stan końcowy
- animation-play-state – stan odtwarzania
- animation-composition – składanie animacji
- animation-timeline – oś czasu
- animation-range – zakres animacji
- animation-range-start – start zakresu
- animation-range-end – koniec zakresu
- transform – transformacje elementu (obrót, skala)
- transform-origin – punkt zakotwiczenia transformacji
- transform-box – pudełko odniesienia transformacji
- transform-style – styl renderowania 3D
- translate – przesunięcie elementu
- rotate – rotacja elementu
- scale – skalowanie elementu
- perspective – głębia perspektywy 3D
- perspective-origin – punkt widzenia perspektywy
- backface-visibility – widoczność rewersu
- transition – przejście między stanami
- transition-property – właściwość podlegająca przejściu
- transition-duration – czas trwania przejścia
- transition-timing-function – dynamika przejścia
- transition-delay – opóźnienie startu przejścia
- transition-behavior – zachowanie przejścia (dla wartości dyskretnych)
- timeline-scope – zakres osi czasu animacji
- view-timeline – oś czasu widoku elementu
- view-timeline-name – nazwa osi czasu widoku
- view-timeline-axis – oś czasu widoku
- view-timeline-inset – odsunięcie osi czasu widoku
- view-transition-name – nazwa przejścia widoku
- view-transition-class – klasa przejścia widoku
- will-change – informacja o planowanych zmianach elementu

### Przewijanie (Scroll)

- overflow – obsługa przepełnienia treści
- overflow-x – przepełnienie poziome
- overflow-y – przepełnienie pionowe
- overflow-inline – przepełnienie w osi liniowej
- overflow-block – przepełnienie w osi blokowej
- overflow-anchor – zakotwiczenie przewijania
- overflow-wrap – łamanie słów przy przepełnieniu
- overflow-clip-margin – margines przycinania przepełnienia
- scroll-behavior – zachowanie przewijania (płynność)
- scrollbar-color – kolorystyka paska przewijania
- scrollbar-width – szerokość paska przewijania
- scrollbar-gutter – rezerwacja miejsca na pasek przewijania
- overscroll-behavior – zachowanie przy granicach przewijania
- overscroll-behavior-x – zachowanie przewijania poziomego
- overscroll-behavior-y – zachowanie przewijania pionowego
- overscroll-behavior-inline – zachowanie przewijania liniowego
- overscroll-behavior-block – zachowanie przewijania blokowego
- scroll-snap-type – typ przyciągania przewijania
- scroll-snap-align – wyrównanie punktu przyciągania
- scroll-snap-stop – wymuszenie zatrzymania przyciągania
- scroll-padding – odstępy wewnętrzne obszaru przewijania
- scroll-padding-top – odstęp wewnętrzny przewijania górny
- scroll-padding-right – odstęp wewnętrzny przewijania prawy
- scroll-padding-bottom – odstęp wewnętrzny przewijania dolny
- scroll-padding-left – odstęp wewnętrzny przewijania lewy
- scroll-padding-inline – odstępy wewnętrzne przewijania osi liniowej
- scroll-padding-inline-start – odstęp wewnętrzny przewijania liniowy-start
- scroll-padding-inline-end – odstęp wewnętrzny przewijania liniowy-koniec
- scroll-padding-block – odstępy wewnętrzne przewijania osi blokowej
- scroll-padding-block-start – odstęp wewnętrzny przewijania blokowy-start
- scroll-padding-block-end – odstęp wewnętrzny przewijania blokowy-koniec
- scroll-margin – marginesy obszaru przewijania
- scroll-margin-top – margines górny przewijania
- scroll-margin-right – margines prawy przewijania
- scroll-margin-bottom – margines dolny przewijania
- scroll-margin-left – margines lewy przewijania
- scroll-margin-inline – marginesy przewijania osi liniowej
- scroll-margin-inline-start – margines przewijania liniowy-start
- scroll-margin-inline-end – margines przewijania liniowy-koniec
- scroll-margin-block – marginesy przewijania osi blokowej
- scroll-margin-block-start – margines przewijania blokowy-start
- scroll-margin-block-end – margines przewijania blokowy-koniec
- scroll-timeline – oś czasu przewijania
- scroll-timeline-name – nazwa osi czasu przewijania
- scroll-timeline-axis – oś osi czasu przewijania
- scroll-marker-group – grupa znaczników przewijania
- scroll-target-group – grupa docelowa przewijania

### Maskowanie i Przycinanie

- mask – kompletne maskowanie elementu
- mask-image – obraz maskujący element
- mask-mode – tryb interpretacji maski
- mask-repeat – powtarzanie obrazu maski
- mask-position – pozycja obrazu maski
- mask-clip – obszar przycinania maski
- mask-origin – punkt startu maski
- mask-size – rozmiar obrazu maski
- mask-composite – operacja kompozycji masek
- mask-type – typ maski (luminancja/alfa)
- mask-border – maska obramowania elementu
- mask-border-source – źródło obrazu maski obramowania
- mask-border-slice – cięcie obrazu maski obramowania
- mask-border-width – szerokość obrazu maski obramowania
- clip – przycinanie elementu
- clip-path – ścieżka przycinania
- clip-rule – reguła wypełnienia przycinania

### Kolumny i Tabele

- columns – kolumny tekstu
- column-count – liczba kolumn
- column-width – szerokość kolumn
- column-rule – linia oddzielająca kolumny
- column-rule-width – szerokość linii kolumn
- column-rule-style – styl linii kolumn
- column-rule-color – kolor linii kolumn
- column-span – rozpiętość kolumn
- column-fill – sposób wypełnienia kolumn
- table-layout – algorytm układu tabeli
- caption-side – położenie tytułu tabeli

### Interfejs i System

- appearance – wygląd systemowy
- accent-color – kolor akcentu
- color-scheme – schemat kolorystyczny
- cursor – typ kursora myszy (brak w liście, ale powiązany z caret)
- pointer-events – reakcja na zdarzenia wskaźnika
- touch-action – obsługa gestów dotykowych
- user-select – kontrola zaznaczania tekstu
- user-modify – uprawnienia edycji treści przez użytkownika
- content-visibility – widoczność treści renderowanej
- content – treść generowana
- all – resetowanie właściwości

### Druk i Podziały

- page – przypisanie do konkretnej strony druku
- page-break-before – wymuszenie strony przed elementem
- page-break-after – wymuszenie strony za elementem
- page-break-inside – unikanie łamania strony wewnątrz
- break-before – przełamanie przed elementem
- break-after – przełamanie za elementem
- break-inside – przełamanie wewnątrz elementu
- orphans – minimalna liczba linii na dole strony
- widows – minimalna liczba linii na górze strony
- print-color-adjust – kontrola kolorów w druku

### SVG i Grafika Wektorowa

- stroke – kolor obrysu (SVG)
- stroke-width – szerokość obrysu (SVG)
- stroke-linecap – zakończenie linii obrysu (SVG)
- stroke-linejoin – połączenie linii obrysu (SVG)
- stroke-miterlimit – limit ścięcia połączenia linii (SVG)
- stroke-dasharray – wzór przerywanej linii (SVG)
- stroke-dashoffset – przesunięcie wzoru linii (SVG)
- stroke-opacity – przezroczystość obrysu (SVG)
- fill – wypełnienie kształtu (brak w liście, ale stroke jest)
- vector-effect – efekt wektorowy (skalowanie obrysu)
- paint-order – kolejność malowania (SVG)
- shape-outside – kształt zewnętrzny opływania
- shape-margin – margines kształtu opływania
- shape-image-threshold – próg alfa obrazu kształtu
- shape-rendering – sposób renderowania kształtów (SVG)
- color-interpolation – interpolacja kolorów SVG
- color-interpolation-filters – interpolacja kolorów filtrów
- stop-color – kolor stopnia gradientu (SVG)
- stop-opacity – przezroczystość stopnia gradientu (SVG)
- x – współrzędna pozioma (SVG)
- y – współrzędna pionowa (SVG)
- r – promień koła (SVG)
- rx – promień zaokrąglenia X (SVG)
- ry – promień zaokrąglenia Y (SVG)

### Inne

- object-fit – dopasowanie zawartości obiektowej
- object-position – pozycja zawartości obiektowej
- object-view-box – widok rzutni obiektu
- overlay – zachowanie warstwy nakładki
- zoom – powiększenie elementu
- clear – czyszczenie opływania
- unicode-bidi – obsługa tekstu dwukierunkowego
- reading-flow – kierunek przepływu czytania
- reading-order – kolejność czytania treści
- speak-as – sposób odczytywania licznika przez lektora
- math-style – styl wyświetlania matematyki
- math-depth – głębokość renderowania matematycznego
- math-shift – przesunięcie w trybie matematycznym

      `;
const preview = document.getElementById("preview");
      const navContainer = document.getElementById("nav-container");
      const searchInput = document.getElementById('tag-search');
      const toggleFilterBtn = document.getElementById('toggle-filter');
      let showOnlyNotLearned = false;

      function enrichWithMdnLinks(text) {
        // Tagi
        text = text.replace(/<(!?[a-z1-6]+)>(\s*[–-]\s*)?/gi, (match, tag) => {
          const cleanTag = tag.startsWith('!') ? 'Doctype' : tag.toLowerCase();
          const url = `https://developer.mozilla.org/en-US/docs/Web/HTML/Element/${cleanTag}`;
          return `<a href="${url}" target="_blank" class="mdn-link">&lt;${tag}&gt;</a> `;
        });

        // Atrybuty globalne i media (lista z myślnikiem)
        text = text.replace(/^- ([a-z*]+)(\s*[–-]\s*)/gm, (match, attr) => {
          const cleanAttr = attr.replace('*', '').toLowerCase();
          const url = `https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/${cleanAttr}`;
          if (rawContent.includes("Zarządzanie mediami") && !["id", "class", "style", "hidden"].includes(cleanAttr)) {
             // Link do atrybutów specyficznych jeśli nie globalne
             const specUrl = `https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/${cleanAttr}`;
             return `- <a href="${specUrl}" target="_blank" class="mdn-link">${attr}</a> `;
          }
          return `- <a href="${url}" target="_blank" class="mdn-link">${attr}</a> `;
        });

        return text;
      }

      function updateStats() {
        const items = preview.querySelectorAll('li');
        const notLearned = preview.querySelectorAll('li.not-learned').length;
        document.getElementById('stat-total').innerText = `Tagi: ${items.length}`;
        document.getElementById('stat-learned').innerText = `Opanowane: ${items.length - notLearned}`;
        document.getElementById('stat-not-learned').innerText = `Do nauki: ${notLearned}`;
        
        const notLearnedTexts = Array.from(preview.querySelectorAll('li.not-learned')).map(li => li.innerText.trim());
        localStorage.setItem('html_progress', JSON.stringify(notLearnedTexts));
      }

      function filterElements() {
        const query = searchInput.value.toLowerCase();
        const items = preview.querySelectorAll('li');
        
        items.forEach(item => {
          const text = item.innerText.toLowerCase();
          const matchesSearch = text.includes(query);
          const isNotLearned = item.classList.contains('not-learned');
          
          let shouldShow = matchesSearch;
          if (showOnlyNotLearned && !isNotLearned) shouldShow = false;
          item.style.display = shouldShow ? 'flex' : 'none';
        });

        // Ukrywanie pustych nagłówków
        preview.querySelectorAll('h2, h3').forEach(header => {
          let next = header.nextElementSibling;
          let hasVisible = false;
          while(next && next.tagName !== 'H2' && next.tagName !== 'H3') {
            if(next.tagName === 'UL') {
              if(Array.from(next.querySelectorAll('li')).some(li => li.style.display !== 'none')) hasVisible = true;
            }
            next = next.nextElementSibling;
          }
          header.style.display = hasVisible ? 'block' : 'none';
        });
      }

      function init() {
        preview.innerHTML = marked.parse(enrichWithMdnLinks(rawContent));
        
        const items = preview.querySelectorAll("li");
        const saved = JSON.parse(localStorage.getItem('html_progress') || "[]");

        items.forEach(item => {
          item.style.cursor = "pointer";
          if (saved.includes(item.innerText.trim())) item.classList.add("not-learned");

          item.addEventListener("click", (e) => {
            if (e.target.tagName === 'A') return;
            item.classList.toggle("not-learned");
            updateStats();
            if (showOnlyNotLearned) filterElements();
          });
        });

        // Generowanie Nav
        preview.querySelectorAll("h2").forEach((header, i) => {
          header.id = `sec-${i}`;
          const link = document.createElement("a");
          link.href = `#${header.id}`;
          link.innerText = header.innerText;
          navContainer.appendChild(link);
        });

        updateStats();
      }

      searchInput.addEventListener('input', filterElements);
      toggleFilterBtn.addEventListener('click', () => {
        showOnlyNotLearned = !showOnlyNotLearned;
        toggleFilterBtn.innerText = showOnlyNotLearned ? "Pokaż wszystko" : "Pokaż tylko do nauki";
        filterElements();
      });

      init();
    </script>
  </body>
</html>
